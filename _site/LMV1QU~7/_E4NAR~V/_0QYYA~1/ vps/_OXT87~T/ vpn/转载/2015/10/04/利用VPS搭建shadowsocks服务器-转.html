<h1 id="利用vps搭建shadowsocks服务器转">利用VPS搭建shadowsocks服务器（转）</h1>

<p>继红杏出墙，时空隧道等一系列著名翻墙插件被封杀后，翻墙方式也越来越少。但对于博主这种重度谷歌用户，怎能屈服于GFW呢。</p>

<h2 id="shadowsocks简介搬运至互联网"><strong>shadowsocks简介（搬运至互联网）</strong></h2>

<p>shadowsocks是一款自定义协议的代理软件，由于其流量特征不明显，（直到不久前）一直可以稳定提供上网代理。shadowsocks客户端会在本地开启一个socks5代理，通过此代理的网络访问请求由客户端发送至服务端，服务端发出请求，收到响应数据后再发回客户端。因此使用shadowsocks需要一台墙外的服务器来部署shadowsocks服务端。</p>

<p>再来谈谈VPS服务器的问题吧，博主用的<a href="https://www.budgetvm.com/account/aff.php?aff=3228"><strong>BudgetVM</strong></a>的，用了1年多了，感觉还不错，同时呢，网上还给出了其它的VPS服务提供商，比较著名的还有<a href="http://welcome.linode.com/features/?gclid=Cj0KEQjwnMOwBRCAhp-ysqCwypkBEiQAeSy1-basvgxVbtZ7mjtO5aY6BIm307OZrahN_rZLd-bzZ8caAji68P8HAQ">Linode</a>和<a href="https://www.digitalocean.com/?utm_source=google&amp;utm_medium=brand_sem&amp;utm_campaign=Brand_Protection&amp;utm_term=digital%20ocean&amp;adgroup=9971414725&amp;matchtype=e&amp;network=g&amp;device=c&amp;position=1t1">Digital Ocean</a>，至于它们各自的易用性，还是读者自己每个都买一年试试吧。</p>

<h2 id="接下来进入在vps上部署shadowsocks服务器正题"><strong>接下来进入在VPS上部署Shadowsocks服务器正题</strong></h2>

<p>首先肯定要登陆你的VPS，登陆后按照以下命令，来安装和启动服务。</p>

<p>（PS，我用的CentOS6 32bit）</p>

<h4 id="安装shadowsocks"><strong>安装shadowsocks</strong></h4>

<p>打开shell，使用VPS服务商提供的root用户和密码SSH登录VPS。然后执行如下命令：</p>

<p><strong>Debian/Ubuntu:</strong></p>

<p>apt-get install python-pip pip install shadowsocks</p>

<p><em>请选择对应系统的命令</em></p>

<p><strong>CentOS:</strong></p>

<p>yum install python-setuptools &amp;&amp; easy_install pip pip install shadowsocks</p>

<p>命令输入后，稍作等待，shadowsocks就安装好了。</p>

<p>有时Ubuntu会遇到第一个命令安装python-pip时找不到包的情况。pip官方给出了一个安装脚本，可以自</p>

<p>动安装pip。先下载脚本，然后执行即可：</p>

<p>wget <a href="https://bootstrap.pypa.io/get-pip.py">https://bootstrap.pypa.io/get-pip.py</a> python get-pip.py</p>

<h3 id="接下来编写配置文件"><strong>接下来，编写配置文件</strong></h3>

<p>shadowsocks启动时的参数，如服务器端口，代理端口，登录密码等，可以通过启动时的命令行参数来设</p>

<p>定，也可以通过json格式的配置文件设定。推荐使用配置文件，方便查看和修改。</p>

<p>用vi新建一个配置文件：</p>

<p>vi /etc/shadowsocks.json 然后输入如下内容：</p>

<p>{  “server”:”my_server_ip”,  “server_port”:25,  “local_address”: “127.0.0.1”,  “local_port”:1080,  “password”:”mypassword”,  “timeout”:300,  “method”:”aes-256-cfb”,  “fast_open”: false }</p>

<p>server改成你VPS服务器的IP地址！ 使用 :wq命令保存退出。</p>

<h3 id="启动shadowsocks"><strong>启动shadowsocks</strong></h3>

<p>如果已经写好了配置文件，启动shadowsocks服务器的命令如下：</p>

<p>ssserver -c /etc/shadowsocks.json 后台启动和停止shadowsocks服务器：</p>

<p>ssserver -c /etc/shadowsocks.json -d start ssserver -c /etc/shadowsocks.json -d stop shadowsocks的日志保存在 /var/log/shadowsocks.log</p>

<h3 id="安装并启动shadowsocks客户端"><strong>安装并启动shadowsocks客户端</strong></h3>

<p>shadowsocks支持windows、Mac OS X、Linux、Android、iOS等多个平台。</p>

<p><a href="https://s-s.pw/">Shadowsocks客户端下载，个平台使用教程，请看这里：</a></p>

<p><a href="https://s-s.pw/">https://s-s.pw/</a></p>

<p>下载安装客户端以后，只需按服务器的配置填写IP地址、服务器端口、本地端口（如果没有本地端口选</p>

<p>项，就是默认的1080）、密码、加密方式等参数，启动就可以了。</p>

<p>客户端支持全局代理和PAC代理两种方式，后者会使用一个脚本来自动检查一个网站是否在需要代理的网</p>

<p>站列表中，自动选择直接连接或代理连接。</p>

<p>PAC列表可以在线更新（地址：<a href="https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt">https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt</a>）</p>

