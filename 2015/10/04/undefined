<html>
    <!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">

	

	<title>利用VPS搭建shadowsocks服务器（转） | akakanch</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
	<link rel="shortcut icon" href="/favicon.ico">	
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/caomei.css">
	<link rel="stylesheet" href="/css/style.css">
	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>

    <body>
        <div class="root">
            <div class='topnavs container fixed-690'>
    <nav class="navbar navbar-expand-lg navbar-light">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                
                    <li class="nav-item">
                        <a class="nav-link" href="/">
                            首页
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/categories">
                            分类
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/archives">
                            归档
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/tags">
                            标签
                        </a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/about">
                            关于
                        </a>
                    </li>
                    
            </ul>
        </div>
    </nav>
</div>
                <section class="container mainbody fixed-690">
                    <div class="post">
    <div class="post-title">
        <h1>
            利用VPS搭建shadowsocks服务器（转） 
        </h1>

        
        <div class="post-title-views">
            <span id="busuanzi_container_page_pv">
                本文总阅读量 <span id="busuanzi_value_page_pv"></span> 次
            </span>
        </div>
        
    </div>
    <div class="post-content markdown">
        <p>&nbsp;</p>
<p>继红杏出墙，时空隧道等一系列著名翻墙插件被封杀后，翻墙方式也越来越少。但对于博主这种重度谷歌用户，怎能屈服于GFW呢。</p>
<h3 id="shadowsocks简介（搬运至互联网）"><a href="#shadowsocks简介（搬运至互联网）" class="headerlink" title="shadowsocks简介（搬运至互联网）"></a><strong>shadowsocks简介（搬运至互联网）</strong></h3><p>shadowsocks是一款自定义协议的代理软件，由于其流量特征不明显，（直到不久前）一直可以稳定提供上网代理。shadowsocks客户端会在本地开启一个socks5代理，通过此代理的网络访问请求由客户端发送至服务端，服务端发出请求，收到响应数据后再发回客户端。因此使用shadowsocks需要一台墙外的服务器来部署shadowsocks服务端。</p>
<p>再来谈谈VPS服务器的问题吧，博主用的<strong><a href="https://www.budgetvm.com/account/aff.php?aff=3228" target="_blank" rel="noopener">BudgetVM</a></strong>的，用了1年多了，感觉还不错，同时呢，网上还给出了其它的VPS服务提供商，比较著名的还有<a href="http://welcome.linode.com/features/?gclid=Cj0KEQjwnMOwBRCAhp-ysqCwypkBEiQAeSy1-basvgxVbtZ7mjtO5aY6BIm307OZrahN_rZLd-bzZ8caAji68P8HAQ" target="_blank" rel="noopener">Linode</a>和<a href="https://www.digitalocean.com/?utm_source=google&amp;utm_medium=brand_sem&amp;utm_campaign=Brand_Protection&amp;utm_term=digital%20ocean&amp;adgroup=9971414725&amp;matchtype=e&amp;network=g&amp;device=c&amp;position=1t1" target="_blank" rel="noopener">Digital Ocean</a>，至于它们各自的易用性，还是读者自己每个都买一年试试吧。</p>
<hr>
<p>&nbsp;</p>
<h3 id="接下来进入在VPS上部署Shadowsocks服务器正题"><a href="#接下来进入在VPS上部署Shadowsocks服务器正题" class="headerlink" title="接下来进入在VPS上部署Shadowsocks服务器正题"></a><strong>接下来进入在VPS上部署Shadowsocks服务器正题</strong></h3><p>首先肯定要登陆你的VPS，登陆后按照以下命令，来安装和启动服务。</p>
<p>（PS，我用的CentOS6 32bit）</p>
<hr>
<p>&nbsp;</p>
<h5 id="安装shadowsocks"><a href="#安装shadowsocks" class="headerlink" title="安装shadowsocks"></a><strong>安装shadowsocks</strong></h5><p>&nbsp;</p>
<p>打开shell，使用VPS服务商提供的root用户和密码SSH登录VPS。然后执行如下命令：</p>
<hr>
<p>&nbsp;</p>
<h6 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian/Ubuntu:"></a><strong>Debian/Ubuntu:</strong></h6><p><span style="color: #ff00ff;">apt-get install python-pip</span><br><span style="color: #ff00ff;">pip install shadowsocks</span></p>
<p><span style="color: #ff0000;"><em>请选择对应系统的命令</em></span></p>
<h6 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS:"></a><strong>CentOS:</strong></h6><p><span style="color: #ff00ff;">yum install python-setuptools &amp;&amp; easy_install pip</span><br><span style="color: #ff00ff;">pip install shadowsocks</span></p>
<hr>
<p>命令输入后，稍作等待，shadowsocks就安装好了。</p>
<p>有时Ubuntu会遇到第一个命令安装python-pip时找不到包的情况。pip官方给出了一个安装脚本，可以自</p>
<p>动安装pip。先下载脚本，然后执行即可：</p>
<p><span style="color: #ff00ff;">wget <a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="noopener">https://bootstrap.pypa.io/get-pip.py</a></span><br><span style="color: #ff00ff;">python get-pip.py</span></p>
<hr>
<h4 id="接下来，编写配置文件"><a href="#接下来，编写配置文件" class="headerlink" title="接下来，编写配置文件"></a><strong>接下来，编写配置文件</strong></h4><p>&nbsp;</p>
<p>shadowsocks启动时的参数，如服务器端口，代理端口，登录密码等，可以通过启动时的命令行参数来设</p>
<p>定，也可以通过json格式的配置文件设定。推荐使用配置文件，方便查看和修改。</p>
<p>用vi新建一个配置文件：</p>
<p><span style="color: #ff00ff;">vi /etc/shadowsocks.json</span><br>然后输入如下内容：</p>
<p><span style="color: #ff99cc;">{ </span><br><span style="color: #ff99cc;"> “server”:”my_server_ip”, </span><br><span style="color: #ff99cc;"> “server_port”:25, </span><br><span style="color: #ff99cc;"> “local_address”: “127.0.0.1”, </span><br><span style="color: #ff99cc;"> “local_port”:1080, </span><br><span style="color: #ff99cc;"> “password”:”mypassword”,</span><br><span style="color: #ff99cc;"> “timeout”:300, </span><br><span style="color: #ff99cc;"> “method”:”aes-256-cfb”, </span><br><span style="color: #ff99cc;"> “fast_open”: false</span><br><span style="color: #ff99cc;">}</span></p>
<p>server改成你VPS服务器的IP地址！<br>使用 <span style="color: #ff00ff;">:wq </span>命令保存退出。</p>
<hr>
<p>&nbsp;</p>
<h4 id="启动shadowsocks"><a href="#启动shadowsocks" class="headerlink" title="启动shadowsocks"></a><strong>启动shadowsocks</strong></h4><p>&nbsp;</p>
<p>如果已经写好了配置文件，启动shadowsocks服务器的命令如下：</p>
<p><span style="color: #ff00ff;">ssserver -c /etc/shadowsocks.json</span><br>后台启动和停止shadowsocks服务器：</p>
<p><span style="color: #ff00ff;">ssserver -c /etc/shadowsocks.json -d start</span><br><span style="color: #ff00ff;">ssserver -c /etc/shadowsocks.json -d stop</span><br>shadowsocks的日志保存在 /var/log/shadowsocks.log</p>
<hr>
<p>&nbsp;</p>
<h4 id="安装并启动shadowsocks客户端"><a href="#安装并启动shadowsocks客户端" class="headerlink" title="安装并启动shadowsocks客户端"></a><strong>安装并启动shadowsocks客户端</strong></h4><p>shadowsocks支持windows、Mac OS X、Linux、Android、iOS等多个平台。</p>
<p><a href="https://s-s.pw/" target="_blank" rel="noopener">Shadowsocks客户端下载，个平台使用教程，请看这里：</a></p>
<p><a href="https://s-s.pw/" target="_blank" rel="noopener">https://s-s.pw/</a></p>
<p>下载安装客户端以后，只需按服务器的配置填写IP地址、服务器端口、本地端口（如果没有本地端口选</p>
<p>项，就是默认的1080）、密码、加密方式等参数，启动就可以了。</p>
<p><span style="line-height: 1.5;"><a href="http://139.129.6.122/wp-content/uploads/2015/10/SSsetsd.png" target="_blank" rel="noopener"><img src="http://139.129.6.122/wp-content/uploads/2015/10/SSsetsd.png" alt="SSsetsd"></a></span></p>
<p><span style="line-height: 1.5;">客户端支持全局代理和PAC代理两种方式，后者会使用一个脚本来自动检查一个网站是否在需要代理的网</span></p>
<p>站列表中，自动选择直接连接或代理连接。</p>
<p>PAC列表可以在线更新（地址：<a href="https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt" target="_blank" rel="noopener">https://autoproxy-gfwlist.googlecode.com/svn/trunk/gfwlist.txt</a>）</p>
<p>&nbsp;</p>
 
    </div>
    <div class="post-foot">
        <div id="disqus_thread"></div>
    </div>
</div>


                </section>
                <footer class="container fixed-690 footer">
    <div>
        <span>Power by <a href="https://hexo.io">Hexo</a></span>
    </div>
    <div>
        <span>Theme <a href="https://github.com/zhengxiaowai/hexo-theme-lessless">lessless</a></span>
    </div>
        
            
<div>
    <span id="hexiangyutest_container_site_pv">
    PV: <span id="busuanzi_value_site_pv"></span>
    </span>
    <span id="busuanzi_container_site_uv">
    UV: <span id="busuanzi_value_site_uv"></span>
    </span>
</div>

        
</footer>
        </div>
        
<script src="/js/jquery-3.2.1.slim.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>


    

    </body>
</html>